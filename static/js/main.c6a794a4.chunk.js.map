{"version":3,"sources":["App.js","index.js"],"names":["App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","isFieldActive","currentToe","clickedX","clickedO","size","winCombinations","getWinCombinations","winLane","fieldArr","i","rowArr","j","push","concat","_this2","getFieldArray","map","row","react_default","a","createElement","key","cell","data-position","className","includes","src","alt","event","_this3","td","target","closest","toConsumableArray","dataset","position","setState","prevState","objectSpread","isWin","_this4","value","winComb","_this5","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","lane","isXWin","every","winToe","isOWin","v","_iterator","Symbol","iterator","next","done","_ret","err","return","_this6","onChange","selectSizeHandler","onClick","clickHandler","getFieldComponent","restartClickHandler","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"8OA8NeA,qBA1Nb,SAAAA,IAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACZC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,QAEKI,MAAQ,CACXC,eAAe,EACfC,WAAY,IACZC,SAAU,GACVC,SAAU,GACVC,KAAM,IACNC,gBAAiBb,EAAKc,qBACtBC,QAAS,IAVCf,+EAiBZ,IAFA,IAAIY,EAAOT,KAAKI,MAAMK,KAClBI,EAAW,GACNC,EAAE,EAAGA,GAAGL,EAAMK,IAAK,CAE1B,IADA,IAAIC,EAAS,GACJC,EAAE,EAAGA,GAAGP,EAAMO,IACrBD,EAAOE,KAAP,GAAAC,OAAeJ,GAAfI,OAAmBF,IAErBH,EAASI,KAAKF,GAGhB,OAAOF,8CAGW,IAAAM,EAAAnB,KAuBlB,OAtBiBA,KAAKoB,gBACCC,IAAI,SAAAC,GACzB,OACEC,EAAAC,EAAAC,cAAA,MAAIC,IAAKJ,EAAI,GAAG,IACbA,EAAID,IAAI,SAAAM,GAAI,OACXJ,EAAAC,EAAAC,cAAA,MACEC,IAAKC,EACLC,gBAAeD,EACfE,UAAWV,EAAKf,MAAMQ,QAAQkB,SAASH,GAAQ,eAAiB,IAE/DR,EAAKf,MAAMG,SAASuB,SAASH,GAC1BJ,EAAAC,EAAAC,cAAA,OAAKM,IAAI,iBAAiBC,IAAI,MAC9B,GACHb,EAAKf,MAAMI,SAASsB,SAASH,GAC1BJ,EAAAC,EAAAC,cAAA,OAAKM,IAAI,iBAAiBC,IAAI,MAC9B,8CAUHC,GAAO,IAAAC,EAAAlC,KACdmC,EAAKF,EAAMG,OAAOC,QAAQ,MAC1BrC,KAAKI,MAAMC,eAAkB8B,IAIlB,GAAAjB,OAAApB,OAAAwC,EAAA,EAAAxC,CAAOE,KAAKI,MAAMG,UAAlBT,OAAAwC,EAAA,EAAAxC,CAA+BE,KAAKI,MAAMI,WACzCsB,SAASK,EAAGI,QAAQC,YAIN,MAA1BxC,KAAKI,MAAME,WACbN,KAAKyC,SACH,SAAAC,GACE,OAAO5C,OAAA6C,EAAA,EAAA7C,CAAA,GACF4C,EADL,CAEEpC,WAAY,IACZC,SAAQ,GAAAW,OAAApB,OAAAwC,EAAA,EAAAxC,CAAM4C,EAAUnC,UAAhB,CAA0B4B,EAAGI,QAAQC,cAGjD,kBAAMN,EAAKU,UAGb5C,KAAKyC,SACH,SAAAC,GACE,OAAO5C,OAAA6C,EAAA,EAAA7C,CAAA,GACF4C,EADL,CAEEpC,WAAY,IACZE,SAAQ,GAAAU,OAAApB,OAAAwC,EAAA,EAAAxC,CAAM4C,EAAUlC,UAAhB,CAA0B2B,EAAGI,QAAQC,cAGjD,kBAAMN,EAAKU,0DAKf5C,KAAKyC,SAAS,SAAAC,GACZ,OAAO5C,OAAA6C,EAAA,EAAA7C,CAAA,GACF4C,EADL,CAEErC,eAAe,EACfC,WAAY,IACZC,SAAU,GACVC,SAAU,GACVI,QAAS,iDAKGqB,GAAO,IAAAY,EAAA7C,KACnB8C,EAAQb,EAAMG,OAAOU,MACzB9C,KAAKyC,SAAS,SAAAC,GACZ,OAAO5C,OAAA6C,EAAA,EAAA7C,CAAA,GACF4C,EADL,CAEEjC,KAAMqC,EACNpC,gBAAiBmC,EAAKlC,mBAAmBmC,kDAK5BrC,GACjB,IAAIsC,EAAU,GACd,OAAQtC,GACN,IAAK,IACFsC,EAAU,CACP,CAAC,KAAM,KAAM,KAAM,MACnB,CAAC,KAAM,KAAM,KAAM,MACnB,CAAC,KAAM,KAAM,KAAM,MACnB,CAAC,KAAM,KAAM,KAAM,MAEnB,CAAC,KAAM,KAAM,KAAM,MACnB,CAAC,KAAM,KAAM,KAAM,MACnB,CAAC,KAAM,KAAM,KAAM,MACnB,CAAC,KAAM,KAAM,KAAM,MAEnB,CAAC,KAAM,KAAM,KAAM,MACnB,CAAC,KAAM,KAAM,KAAM,OAEtB,MAEH,IAAK,IACFA,EAAU,CACP,CAAC,KAAM,KAAM,KAAM,KAAM,MACzB,CAAC,KAAM,KAAM,KAAM,KAAM,MACzB,CAAC,KAAM,KAAM,KAAM,KAAM,MACzB,CAAC,KAAM,KAAM,KAAM,KAAM,MACzB,CAAC,KAAM,KAAM,KAAM,KAAM,MAEzB,CAAC,KAAM,KAAM,KAAM,KAAM,MACzB,CAAC,KAAM,KAAM,KAAM,KAAM,MACzB,CAAC,KAAM,KAAM,KAAM,KAAM,MACzB,CAAC,KAAM,KAAM,KAAM,KAAM,MACzB,CAAC,KAAM,KAAM,KAAM,KAAM,MAEzB,CAAC,KAAM,KAAM,KAAM,KAAM,MACzB,CAAC,KAAM,KAAM,KAAM,KAAM,OAE5B,MAEH,QACEA,EAAU,CACR,CAAC,KAAM,KAAM,MACb,CAAC,KAAM,KAAM,MACb,CAAC,KAAM,KAAM,MAEb,CAAC,KAAM,KAAM,MACb,CAAC,KAAM,KAAM,MACb,CAAC,KAAM,KAAM,MAEb,CAAC,KAAM,KAAM,MACb,CAAC,KAAM,KAAM,OAKnB,OAAOA,kCAGD,IAAAC,EAAAhD,KAAAiD,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IACN,IADM,IACNC,EADMC,EAAA,eACGC,EADHF,EAAAP,MAEAU,EAASD,EAAKE,MAAM,SAAAC,GAAM,OAAIV,EAAK5C,MAAMG,SAASuB,SAAS4B,KAC3DC,EAASJ,EAAKE,MAAM,SAAAC,GAAM,OAAIV,EAAK5C,MAAMI,SAASsB,SAAS4B,KAE/D,GAAIF,GAAUG,EAUZ,OATAX,EAAKP,SACH,SAAAC,GACE,OAAO5C,OAAA6C,EAAA,EAAA7C,CAAA,GACF4C,EADL,CAEErC,eAAe,EACfO,QAAS2C,MAIf,CAAAK,OAAA,IAdJC,EAAiB7D,KAAKI,MAAMM,gBAA5BoD,OAAAC,cAAAd,GAAAI,EAAAQ,EAAAG,QAAAC,MAAAhB,GAAA,EAA6C,KAAAiB,EAAAZ,IAAA,qBAAAY,EAAA,OAAAA,EAAAN,GADvC,MAAAO,GAAAjB,GAAA,EAAAC,EAAAgB,EAAA,YAAAlB,GAAA,MAAAY,EAAAO,QAAAP,EAAAO,SAAA,WAAAlB,EAAA,MAAAC,qCAoBC,IAAAkB,EAAArE,KAEP,OADAA,KAAKW,qBAEHY,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,UAAQI,UAAU,aAAayC,SAAU,SAACrC,GAAD,OAAWoC,EAAKE,kBAAkBtC,KACzEV,EAAAC,EAAAC,cAAA,UAAQqB,MAAM,KAAd,OACAvB,EAAAC,EAAAC,cAAA,UAAQqB,MAAM,KAAd,OACAvB,EAAAC,EAAAC,cAAA,UAAQqB,MAAM,KAAd,QAEFvB,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,SAAO+C,QAAS,SAACvC,GAAD,OAAWoC,EAAKI,aAAaxC,KAC5CjC,KAAK0E,sBAGRnD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UACEI,UAAU,kBACV2C,QAAS,WAAOH,EAAKM,wBAFvB,mBAhNUC,cCClBC,IAASC,OAAOvD,EAAAC,EAAAC,cAACsD,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.c6a794a4.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      isFieldActive: true,\r\n      currentToe: 'x',\r\n      clickedX: [],\r\n      clickedO: [],\r\n      size: '3',\r\n      winCombinations: this.getWinCombinations(),\r\n      winLane: []\r\n    };\r\n  }\r\n\r\n  getFieldArray() {\r\n    let size = this.state.size;\r\n    let fieldArr = [];\r\n    for (let i=1; i<=size; i++) {\r\n      let rowArr = [];\r\n      for (let j=1; j<=size; j++) {\r\n        rowArr.push(`${i}${j}`)\r\n      }\r\n      fieldArr.push(rowArr);\r\n    }\r\n\r\n    return fieldArr;\r\n  }\r\n\r\n  getFieldComponent() {\r\n    let fieldArray = this.getFieldArray();\r\n    let field = fieldArray.map(row => {\r\n      return (\r\n        <tr key={row[0][0]}>\r\n          {row.map(cell =>\r\n            <td\r\n              key={cell}\r\n              data-position={cell}\r\n              className={this.state.winLane.includes(cell) ? 'App-win-cell' : ''}\r\n            >\r\n              {this.state.clickedX.includes(cell)\r\n                ? <img src=\"./images/x.png\" alt=\"X\"/>\r\n                : ''}\r\n              {this.state.clickedO.includes(cell)\r\n                ? <img src=\"./images/o.png\" alt=\"O\"/>\r\n                : ''}\r\n            </td>\r\n          )}\r\n        </tr>\r\n      )\r\n    });\r\n\r\n    return field;\r\n  }\r\n\r\n  clickHandler(event) {\r\n    let td = event.target.closest('td');\r\n    if(!this.state.isFieldActive || !td) {\r\n      return;\r\n    }\r\n\r\n    let turnHistory = [...this.state.clickedX, ...this.state.clickedO];\r\n    if (turnHistory.includes(td.dataset.position)) {\r\n      return;\r\n    }\r\n\r\n    if (this.state.currentToe === 'x') {\r\n      this.setState(\r\n        prevState => {\r\n          return {\r\n            ...prevState,\r\n            currentToe: 'o',\r\n            clickedX: [...prevState.clickedX, td.dataset.position]\r\n          }\r\n        },\r\n        () => this.isWin());\r\n\r\n    } else {\r\n      this.setState(\r\n        prevState => {\r\n          return {\r\n            ...prevState,\r\n            currentToe: 'x',\r\n            clickedO: [...prevState.clickedO, td.dataset.position]\r\n          }\r\n        },\r\n        () => this.isWin());\r\n    }\r\n  }\r\n\r\n  restartClickHandler() {\r\n    this.setState(prevState => {\r\n      return {\r\n        ...prevState,\r\n        isFieldActive: true,\r\n        currentToe: 'x',\r\n        clickedX: [],\r\n        clickedO: [],\r\n        winLane: []\r\n      }\r\n    });\r\n  }\r\n\r\n  selectSizeHandler(event) {\r\n    let value = event.target.value;\r\n    this.setState(prevState => {\r\n      return {\r\n        ...prevState,\r\n        size: value,\r\n        winCombinations: this.getWinCombinations(value)\r\n      }\r\n    })\r\n  }\r\n\r\n  getWinCombinations(size) {\r\n    let winComb = [];\r\n    switch (size) {\r\n      case '4':\r\n         winComb = [\r\n            ['11', '12', '13', '14'],\r\n            ['21', '22', '23', '24'],\r\n            ['31', '32', '33', '34'],\r\n            ['41', '42', '43', '44'],\r\n\r\n            ['11', '21', '31', '41'],\r\n            ['12', '22', '32', '42'],\r\n            ['13', '23', '33', '43'],\r\n            ['14', '24', '34', '44'],\r\n\r\n            ['11', '22', '33', '44'],\r\n            ['41', '32', '23', '13']\r\n         ];\r\n         break;\r\n\r\n      case '5':\r\n         winComb = [\r\n            ['11', '12', '13', '14', '15'],\r\n            ['21', '22', '23', '24', '25'],\r\n            ['31', '32', '33', '34', '35'],\r\n            ['41', '42', '43', '44', '45'],\r\n            ['51', '52', '53', '54', '55'],\r\n\r\n            ['11', '21', '31', '41', '51'],\r\n            ['12', '22', '32', '42', '52'],\r\n            ['13', '23', '33', '43', '53'],\r\n            ['14', '24', '34', '44', '54'],\r\n            ['15', '25', '35', '45', '55'],\r\n\r\n            ['11', '22', '33', '44', '55'],\r\n            ['51', '42', '33', '23', '13']\r\n         ];\r\n         break;\r\n\r\n      default:\r\n        winComb = [\r\n          ['11', '12', '13'],\r\n          ['21', '22', '23'],\r\n          ['31', '32', '33'],\r\n\r\n          ['11', '21', '31'],\r\n          ['12', '22', '32'],\r\n          ['13', '23', '33'],\r\n\r\n          ['11', '22', '33'],\r\n          ['31', '22', '13']\r\n        ];\r\n        break;\r\n    }\r\n\r\n    return winComb;\r\n  }\r\n\r\n  isWin() {\r\n    for (let lane of this.state.winCombinations) {\r\n      let isXWin = lane.every(winToe => this.state.clickedX.includes(winToe));\r\n      let isOWin = lane.every(winToe => this.state.clickedO.includes(winToe));\r\n\r\n      if (isXWin || isOWin) {\r\n        this.setState(\r\n          prevState => {\r\n            return {\r\n              ...prevState,\r\n              isFieldActive: false,\r\n              winLane: lane,\r\n            }\r\n          });\r\n\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.getWinCombinations();\r\n    return (\r\n      <div className=\"App\">\r\n        <span>Size: </span>\r\n        <select className=\"App-select\" onChange={(event) => this.selectSizeHandler(event)}>\r\n          <option value=\"3\">3x3</option>\r\n          <option value=\"4\">4x4</option>\r\n          <option value=\"5\">5x5</option>\r\n        </select>\r\n        <table>\r\n          <tbody onClick={(event) => this.clickHandler(event)}>\r\n          {this.getFieldComponent()}\r\n          </tbody>\r\n        </table>\r\n        <br/>\r\n        <button\r\n          className=\"App-restart-btn\"\r\n          onClick={() => {this.restartClickHandler()}}\r\n        >\r\n          Restart\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}