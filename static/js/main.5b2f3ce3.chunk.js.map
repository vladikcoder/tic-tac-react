{"version":3,"sources":["App.js","index.js"],"names":["App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","isFieldActive","currentToe","size","fieldObject","getFieldStructure","winCombinations","getWinCombinations","winLane","_this2","entries","map","_ref","_ref2","slicedToArray","row","columnsObj","react_default","a","createElement","key","keys","column","concat","className","includes","onClick","clickHandler","src","alt","_this3","setState","prevState","objectSpread","isWin","event","value","target","_this4","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","lane","isXWin","every","winToe","isOWin","v","_iterator","Symbol","iterator","next","done","_ret","err","return","_this5","onChange","selectSizeHandler","getFieldComponent","restartClickHandler","arguments","length","fieldObj","i","j","checked","toe","winComb","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.5b2f3ce3.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      isFieldActive: true,\r\n      currentToe: 'x',\r\n      size: '3',\r\n      fieldObject: App.getFieldStructure(),\r\n      winCombinations: App.getWinCombinations(),\r\n      winLane: []\r\n    };\r\n  }\r\n\r\n  static getFieldStructure(size = '3') {\r\n    let fieldObj = {};\r\n    for (let i=1; i<=size; i++) {\r\n      fieldObj[i] = {};\r\n      for (let j=1; j<=size; j++) {\r\n        fieldObj[i][j] = {\r\n          'checked' : false,\r\n          'toe': null,\r\n        };\r\n      }\r\n    }\r\n\r\n    return fieldObj;\r\n  }\r\n\r\n  static getWinCombinations(size) {\r\n    let winComb = [];\r\n    switch (size) {\r\n    case '4':\r\n      winComb = [\r\n        ['11', '12', '13', '14'],\r\n        ['21', '22', '23', '24'],\r\n        ['31', '32', '33', '34'],\r\n        ['41', '42', '43', '44'],\r\n\r\n        ['11', '21', '31', '41'],\r\n        ['12', '22', '32', '42'],\r\n        ['13', '23', '33', '43'],\r\n        ['14', '24', '34', '44'],\r\n\r\n        ['11', '22', '33', '44'],\r\n        ['41', '32', '23', '14']\r\n      ];\r\n      break;\r\n\r\n    case '5':\r\n      winComb = [\r\n        ['11', '12', '13', '14', '15'],\r\n        ['21', '22', '23', '24', '25'],\r\n        ['31', '32', '33', '34', '35'],\r\n        ['41', '42', '43', '44', '45'],\r\n        ['51', '52', '53', '54', '55'],\r\n\r\n        ['11', '21', '31', '41', '51'],\r\n        ['12', '22', '32', '42', '52'],\r\n        ['13', '23', '33', '43', '53'],\r\n        ['14', '24', '34', '44', '54'],\r\n        ['15', '25', '35', '45', '55'],\r\n\r\n        ['11', '22', '33', '44', '55'],\r\n        ['51', '42', '33', '23', '13']\r\n      ];\r\n      break;\r\n\r\n    default:\r\n      winComb = [\r\n        ['11', '12', '13'],\r\n        ['21', '22', '23'],\r\n        ['31', '32', '33'],\r\n\r\n        ['11', '21', '31'],\r\n        ['12', '22', '32'],\r\n        ['13', '23', '33'],\r\n\r\n        ['11', '22', '33'],\r\n        ['31', '22', '13']\r\n      ];\r\n      break;\r\n    }\r\n\r\n    return winComb;\r\n  }\r\n\r\n  getFieldComponent() {\r\n    return Object.entries(this.state.fieldObject).map(([row, columnsObj]) => {\r\n      return (\r\n        <tr key={row}>\r\n          {Object.keys(columnsObj).map(column =>\r\n            <td\r\n              key={`${row}${column}`}\r\n              className={this.state.winLane.includes(`${row}${column}`) ? 'App-win-cell' : ''}\r\n              onClick={() => this.clickHandler(row, column)}\r\n            >\r\n              {this.state.fieldObject[row][column]['checked']\r\n                ? <img\r\n                  src={`./images/${this.state.fieldObject[row][column]['toe']}.png`}\r\n                  alt={this.state.fieldObject[row][column]['toe']}\r\n                />\r\n                : ''}\r\n            </td>\r\n          )}\r\n        </tr>\r\n      )\r\n    });\r\n  }\r\n\r\n  clickHandler(row, column) {\r\n    if(!this.state.isFieldActive || this.state.fieldObject[row][column]['checked']) {\r\n      return;\r\n    }\r\n\r\n    this.setState(prevState => {\r\n      let fieldObject = {...prevState.fieldObject};\r\n      fieldObject[row][column]['checked'] = true;\r\n      fieldObject[row][column]['toe'] = prevState.currentToe;\r\n\r\n      return {\r\n        ...prevState,\r\n        currentToe: (prevState.currentToe === 'x') ? 'o' : 'x',\r\n        fieldObject\r\n      }\r\n    }, () => this.isWin());\r\n  }\r\n\r\n  restartClickHandler() {\r\n    this.setState(prevState => {\r\n      return {\r\n        ...prevState,\r\n        isFieldActive: true,\r\n        currentToe: 'x',\r\n        fieldObject: App.getFieldStructure(prevState.size),\r\n        winLane: []\r\n      }\r\n    });\r\n  }\r\n\r\n  selectSizeHandler(event) {\r\n    let value = event.target.value;\r\n    this.setState(prevState => {\r\n      return {\r\n        ...prevState,\r\n        currentToe: 'x',\r\n        fieldObject: App.getFieldStructure(value),\r\n        isFieldActive: true,\r\n        size: value,\r\n        winCombinations: App.getWinCombinations(value),\r\n        winLane: []\r\n      }\r\n    })\r\n  }\r\n\r\n  isWin() {\r\n    for (let lane of this.state.winCombinations) {\r\n      let isXWin = lane.every(winToe => this.state.fieldObject[winToe[0]][winToe[1]]['toe'] === 'x');\r\n      let isOWin = lane.every(winToe => this.state.fieldObject[winToe[0]][winToe[1]]['toe'] === 'x');\r\n\r\n      if (isXWin || isOWin) {\r\n        this.setState(\r\n          prevState => {\r\n            return {\r\n              ...prevState,\r\n              isFieldActive: false,\r\n              winLane: lane,\r\n            }\r\n          });\r\n\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    App.getWinCombinations();\r\n    return (\r\n      <div className=\"App\">\r\n        <span>Size: </span>\r\n        <select className=\"App-select\" onChange={(event) => this.selectSizeHandler(event)}>\r\n          <option value=\"3\">3x3</option>\r\n          <option value=\"4\">4x4</option>\r\n          <option value=\"5\">5x5</option>\r\n        </select>\r\n        <table>\r\n          <tbody>\r\n            {this.getFieldComponent()}\r\n          </tbody>\r\n        </table>\r\n        <br/>\r\n        <button\r\n          className=\"App-restart-btn\"\r\n          onClick={() => {this.restartClickHandler()}}\r\n        >\r\n          Restart\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}